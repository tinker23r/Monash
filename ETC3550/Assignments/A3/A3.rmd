---
title: "ETC3550 Assignment 3"
author: "Chelaka Paranahewa"
output: 
  html_document:
    fig_crop: false
---
```{r Setup, echo = FALSE, include = FALSE}
library(fpp3, warn.conflicts = FALSE)

# Use your student ID as the seed
set.seed(31455034)
myseries <- aus_retail %>%
    # Remove discontinued series
    filter(!(`Series ID` %in% c(
        "A3349561R", "A3349883F", "A3349499L", "A3349902A",
        "A3349588R", "A3349763L", "A3349372C", "A3349450X",
        "A3349679W", "A3349378T", "A3349767W", "A3349451A"
    ))) %>%
    # Select a series at random
    filter(`Series ID` == sample(`Series ID`, 1))
```
# Question 1
## Finding an approriate Box-Cox transformation

##### Original Dataset plotted
```{r}
myseries %>% autoplot(Turnover) +
    labs(
        title = "Australia Retail Turnover",
        subtitle = "Original"
    ) +
    ylab("Turnover [million $AUD]")

```

From the orginal data, the seasonal trend at the beginning of the period is rather small but as the trend continues upwards so does the peaks of the seasonal jumps.

```{r}
# Natural Log
myseries %>% autoplot(box_cox(Turnover, 0.0)) +
    labs(
        title = "Australia Retail Turnover",
        subtitle = "Box-Cox transformed (Natural Log)"
    ) +
    ylab("Turnover [million $AUD]")
```

Making lambda = 0 makes the box-cox transformation into a natural log which makes the trend linear and makes seasonal spikes consistant which simplifies the model. 

```{r}
# Best using Guerrero's method
myseries %>%
    features(Turnover, features = guerrero)
myseries %>% autoplot(box_cox(Turnover, 0.0845)) +
    labs(
        title = "Australia Retail Turnover",
        subtitle = "Box-Cox transformed (Guerrero's method)"
    ) +
    ylab("Turnover [million $AUD]")
```

Using Guerrero's method, the loglikihood 